<include file="Base:header"/><div class="main-content">    <div class="breadcrumbs" id="breadcrumbs">        <script type="text/javascript">            try {                ace.settings.check( 'breadcrumbs','fixed' )            } catch ( e ) {            }        </script>        <ul class="breadcrumb">            <li>                <i class="icon-home home-icon"></i>                <a href="__APP__">首页</a>            </li>            <li>修改密码</li>        </ul>    </div>    <div class="page-content">        <div class="page-header">            <h1>修改密码</h1>        </div>        <div class="row">            <div class="col-xs-12">                <div class="widget-box">                    <div class="widget-header widget-header-blue widget-header-flat">                        <h4 class="lighter">填写信息</h4>                    </div>                    <div class="widget-body">                        <div class="widget-main">                            <div class="step-content row-fluid position-relative" id="step-container">                                <div class="step-pane active" id="step1">                                    <form class="form-horizontal" id="validation-form" method="post" action="__SELF__">                                        <div class="form-group">                                            <label class="control-label col-xs-12 col-sm-2 no-padding-right" for="mdid">用户名:</label>                                            <div class="col-xs-12 col-sm-4">                                                <div class="clearfix">                                                    <input type="text" readonly name="mdid" id="mdid" value="<{$data.username}>" class="col-xs-12 col-sm-5 form-control" />                                                </div>                                            </div>                                        </div>                                        <div class="space-2"></div>                                        <div class="form-group">                                            <label class="control-label col-xs-12 col-sm-2 no-padding-right" for="oldpass">原密码:</label>                                            <div class="col-xs-12 col-sm-4">                                                <div class="clearfix">                                                    <input type="password" id="oldpass" name="oldpass" placeholder="原密码" class="col-xs-12 col-sm-5 form-control" />                                                </div>                                            </div>                                        </div>                                        <div class="space-2"></div>                                        <div class="form-group">                                            <label class="control-label col-xs-12 col-sm-2 no-padding-right" for="newpass">新密码:</label>                                            <div class="col-xs-12 col-sm-4">                                                <div class="clearfix">                                                    <input type="password" id="newpass" name="newpass" placeholder="新密码" class="col-xs-12 col-sm-5 form-control" />                                                </div>                                            </div>                                        </div>                                        <div class="space-2"></div>                                        <div class="form-group">                                            <label class="control-label col-xs-12 col-sm-2 no-padding-right" for="confirmPassword">重复密码:</label>                                            <div class="col-xs-12 col-sm-4">                                                <div class="clearfix">                                                    <input type="password" id="confirmPassword" placeholder="重复新密码" name="confirmPassword" class="col-xs-12 col-sm-5 form-control" />                                                </div>                                            </div>                                        </div>                                        <div class="space-2"></div>                                        <div class="row-fluid">                                            <label class="control-label col-xs-12 col-sm-2 no-padding-right" for="auth_code"></label>                                            <div class="col-xs-12 col-sm-4">                                                <div class="clearfix">                                                    <button type="submit" class="btn btn-primary">                                                        <i class="icon-key bigger-110"></i>                                                        修改密码                                                    </button>                                                </div>                                            </div>                                            <br>                                        </div>                                    </form>                                </div>                            </div>                        </div>                    </div>                </div>            </div>        </div>    </div></div></div></div><include file="Base:jsfile"/><script type="text/javascript">    jQuery( function ( $ ){        $( '#validation-form' ).validate( {            errorElement : 'div',            errorClass : 'help-block',            focusInvalid : false,            rules : {                oldpass : {                    required : true                },                newpass : {                    required : true                },                confirmPassword : {                    required : true,                    equalTo : "#newpass"                }            },            messages : {                oldpass : {                    required : "原密码不能为空."                },                newpass : {                    required : "新密码不能为空."                },                confirmPassword : {                    required : "重复密码不能为空.",                    equalTo : "重复密码与新密码不一致."                },                subscription : "Please choose at least one option",                gender : "Please choose gender",                agree : "Please accept our policy"            },            invalidHandler : function ( event,                validator ){ //display error alert on form submit                   $( '.alert-danger',$(                    '.login-form' ) ).                    show();            },            highlight : function ( e ){                $( e ).closest( '.form-group' ).                    removeClass( 'has-info' ).addClass(                    'has-error' );            },            success : function ( e ){                $( e ).closest( '.form-group' ).                    removeClass( 'has-error' ).                    addClass(                        'has-info' );                $( e ).remove();            },            errorPlacement : function ( error,                element ){                if ( element.is( ':checkbox' ) ||                    element.is( ':radio' ) ) {                    var controls = element.closest(                        'div[class*="col-"]' );                    if ( controls.find(                        ':checkbox,:radio' ).length >                        1 )                        controls.append(                            error );                    else                        error.insertAfter(                            element.nextAll(                                '.lbl:eq(0)' ).                            eq(                                0 ) );                }                else if ( element.is( '.select2' ) ) {                    error.insertAfter(                        element.siblings(                            '[class*="select2-container"]:eq(0)' ) );                }                else if ( element.is(                    '.chosen-select' ) ) {                    error.insertAfter(                        element.siblings(                            '[class*="chosen-container"]:eq(0)' ) );                }                else                    error.insertAfter(                        element.parent() );            },            submitHandler : function ( form ){                $.ajax( {                    type : "post",                    url : "__SELF__",                    data : {                        oldpass : $(                            '#oldpass' ).val( ),                        newpass : $(                            '#newpass' ).val( ),                    },                    success : function ( data ){                        alert( data.Description );                        if ( data.Code == 0 ) {                            $( '#oldpass' ).val( '' );                            $( '#newpass' ).val( '' );                            $( '#confirmPassword' ).val('');//                                                location.href = 'http://api.yunlaohu.cn/index.php/Conff/config';                        } else {                        }                    },                    error : function ( ){                        console.log( "error" );                    }                } )            },            invalidHandler: function ( form ){                console.log( "ok1" );            }        } );    } )</script><include file="Base:footer"/>