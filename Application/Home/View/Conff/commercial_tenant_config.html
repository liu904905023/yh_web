<include file="Base:header"/><div class="main-content"> <div class="breadcrumbs" id="breadcrumbs">  <script type="text/javascript">   try {    ace.settings.check(     'breadcrumbs'     ,'fixed' )   } catch ( e ) {   }  </script>  <ul class="breadcrumb">   <li>    <i class="icon-home home-icon"></i>    <a href="__APP__">首页</a>   </li>   <li>微信商户服务商配置表</li>  </ul> </div> <div class="page-content">  <div class="page-header">   <h1>微信商户服务商配置表</h1>  </div>  <div class="row">   <div class="col-xs-12">    <div class="row-fluid">     <div class="span12">      <div class="widget-box">       <div class="widget-header widget-header-blue widget-header-flat">        <h4 class="lighter">填写详细资料</h4>       </div>       <div class="widget-body">        <div class="widget-main">         <div class="step-content row-fluid position-relative" id="step-container">          <div class="step-pane active" id="step1">           <form class="form-horizontal" id="validation-form" method="post" action="__SELF__">            <div class="row">             <div class="col-md-12 form-group">              <div class="col-xs-12 col-md-4">               <div class="form-group">                <div class="col-xs-12">                 <label>APPID</label>                 <div class="over">                  <input type="text" class="form-control" name="sx_appid" id="sx_appid" value="<{$data.APPID}>" placeholder="APPID" />                 </div>                </div>               </div>              </div>              <div class="col-xs-12 col-md-4">               <div class="form-group">                <div class="col-xs-12">                 <label>服务商编号</label>                 <div class="over">                  <input type="text" class="form-control" name="sx_fwsbh" id="sx_fwsbh" value="<{$data.NCHID}>" placeholder="服务商编号" />                 </div>                </div>               </div>              </div>              <div class="col-xs-12 col-md-4">               <div class="form-group">                <div class="col-xs-12">                 <label>服务商APPSECRET编号</label>                 <div class="over">                  <input type="text" class="form-control" name="sx_appsecret" id="sx_appsecret" value="<{$data.APPSECRET}>" placeholder="服务商APPSECRET编号" />                 </div>                </div>               </div>              </div>              <div class="clearfix"></div>              <div class="col-xs-12 col-md-4">               <div class="form-group">                <div class="col-xs-12">                 <label>商户KEY</label>                 <div class="over">                  <input type="text" class="form-control" name="sx_shkey" id="sx_shkey" value="<{$data.KEY}>" placeholder="商户KEY" />                 </div>                </div>               </div>              </div>              <div class="col-xs-12 col-md-4">               <div class="form-group">                <div class="col-xs-12">                 <label>子商户ID</label>                 <div class="over">                  <input type="text" class="form-control" name="sx_zshid" id="sx_zshid" value="<{$data.sub_mch_id}>" placeholder="子商户ID" />                 </div>                </div>               </div>              </div>              <div class="col-xs-12 col-md-4">               <div class="form-group">                <div class="col-xs-12">                 <label>安全密码</label>                 <div class="over">                  <input type="text" class="form-control" name="sx_pass" id="sx_pass" value="<{$data.SSLCERT_PASSWORD}>" placeholder="安全密码" />                 </div>                </div>               </div>              </div>              <div class="clearfix"></div>              <div class="col-xs-12 col-md-4">               <div class="form-group">                <div class="col-xs-12">                 <label>安全目录</label>                 <div class="over">                  <input type="text" class="form-control" name="safe" id="safe" value="<{$data.SSLCERT_PATH}>" placeholder="安全目录" />                 </div>                </div>               </div>              </div>             </div>            </div>            <div class="form-group">             <div class="col-xs-12">              <button type="submit" class="btn btn-primary">               <i class="icon-ok bigger-110"></i>               确认              </button>             </div>            </div>           </form>          </div>         </div>        </div>       </div>      </div>     </div>    </div>   </div>  </div> </div></div></div></div><include file="Base:jsfile"/><script type="text/javascript"> jQuery( function ( $ ){  $( '#validation-form' ).validate( {   errorElement : 'div',   errorClass : 'help-block',   focusInvalid : false,   rules : {    sx_bh : {     required : true,     username:true    },    sx_shfwbh : {     required : true,     username:true    },    sx_appid : {     required : true,     username:true    },    sx_fwsbh : {     required : true,     username:true    },    sx_appsecret : {     required : true,     username:true    },    sx_shkey : {     required : true,     username:true    },    sx_zshid : {     username:true    },    sx_pass : {     required : true,     username:true    },    safe : {     required : true,     config:true    }   },   messages : {    sx_bh : {     required : "编号不能为空."    },    sx_shfwbh : {     required : "商户服务商编号不能为空."    },    sx_appid : {     required : "APPID不能为空."    },    sx_fwsbh : {     required : "服务商编号不能为空."    },    sx_appsecret : {     required : "服务商APPSECRET编号不能为空."    },    sx_shkey : {     required : "商户KEY不能为空."    },//                                    sx_zshid : {//                                        required : "子商户ID不能为空."////                                    },sx_pass : { required : "安全密码不能为空."},subscription : "Please choose at least one option",gender : "Please choose gender",agree : "Please accept our policy"},invalidHandler : function ( event,                validator ){ //display error alert on form submit    $( '.alert-danger',$(  '.login-form' ) ). show( );},highlight : function ( e ){ $( e ).closest( '.form-group' ). removeClass( 'has-info' ).addClass(  'has-error' );},success : function ( e ){ $( e ).closest( '.form-group' ). removeClass( 'has-error' ). addClass(  'has-info' ); $( e ).remove( );},errorPlacement : function ( error, element ){ if ( element.is( ':checkbox' ) ||  element.is( ':radio' ) ) {  var controls = element.closest(   'div[class*="col-"]' ); if ( controls.find(  ':checkbox,:radio' ).length >  1 )  controls.append(   error ); else  error.insertAfter(   element.nextAll(    '.lbl:eq(0)' ).   eq(    0 ) );}else if ( element.is( '.select2' ) ) { error.insertAfter(  element.siblings(   '[class*="select2-container"]:eq(0)' ) );}else if ( element.is( '.chosen-select' ) ) { error.insertAfter(  element.siblings(   '[class*="chosen-container"]:eq(0)' ) );}else error.insertAfter(  element.parent( ) );},submitHandler : function ( form ){ console.log( "ok" ); $.ajax( {  type : "post",  url : "__SELF__",  data : {   sx_appid : $( "#sx_appid" ).val( ),   sx_fwsbh : $( "#sx_fwsbh" ).val( ),   sx_appsecret : $("#sx_appsecret" ).val( ),   sx_shkey : $( "#sx_shkey" ).val( ),   sx_zshid : $( "#sx_zshid" ).val( ),   sx_pass : $( "#sx_pass" ).val( ),   safe : $( "#safe" ).val( ),  },  async:false,  success : function ( data ){         if ( data.Code == 0 ) {	   alert("配置成功!");//                                                $( "#sx_appid" ).val(//                                                    data.data.APPID );//                                                $( "#sx_fwsbh" ).val(//                                                    data.data.NCHID );//                                                $( "#sx_appsecret" ).val(//                                                    data.data.APPSECRET );//                                                $( "#sx_shkey" ).val(//                                                    data.data.KEY );//                                                $( "#sx_zshid" ).val(//                                                    data.data.sub_mch_id );//                                                $( "#sx_pass" ).val(//                                                    data.data.SSLCERT_PASSWORD );////                                                console.log( data );}},error : function (){ alert( 'ajax error!' );}} )},invalidHandler: function ( form ){ console.log( "ok1" );}} ); } )</script><script language="Javascript"> $( function ( ){  $( ".click_pass" ).click( function ( ){   var x = 1000000;   var y = 1;   var random = String.fromCharCode( Math.floor(    Math.random( ) *    26 ) + "a".charCodeAt( 0 ) ).toUpperCase( ) + parseInt(   Math.random( ) * ( x - y + 1 ) + y ) +    String.fromCharCode(     Math.floor( Math.random( ) * 26 ) + "a".charCodeAt(      0 ) );    $( ".random_pass" ).val( random );   } ); } )</script><include file="Base:footer"/>